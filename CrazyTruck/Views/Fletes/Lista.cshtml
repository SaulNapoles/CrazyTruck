@using Nucleo.CrazyTruck
@model List<Flete>

@{
    ViewBag.Title = "Lista";
}


<div id="subtitleSection" class="container-fluid">
    <div class="row">
        <div class="col-xs-12 col-sm-6 left">
            <h3>Lista de Fletesss</h3>
        </div>
        <div class="col-xs-12 col-sm-6 right">
            <div class="btnFloat">
                <button type="button" id="btnShowAdd" class="btnAdd"><span><i class="fas fa-plus"></i></span><span>Agregar</span></button>
                <button type="button" id="btnShowSearch" class="btnSearch"><span><i class="fas fa-search"></i></span><span>Buscar</span></button>
            </div>
        </div>
    </div>
</div>

<div id="tableSection" class="container-fluid">
    <div class="row">
        <div class="col-xs-12 table-responsive">
            <table class="table table-hover display" id="tableFletes" style="width:100%">
                <thead>
                    <tr>
                        <th class="none">ID</th>
                        <th>Folio</th>
                        <th>Trailer</th>
                        <th>Operador</th>
                        <th>Fecha</th>
                        <th>Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (Nucleo.CrazyTruck.Flete f in Model)
                    {
                        if (Model != null)
                        {
                            <tr>
                                <td class="none">@f.id</td>
                                <td>@f.folio</td>
                                <td>@f.Trailer.matricula: @f.Trailer.modelo @f.Trailer.anio</td>
                                <td>@f.Operador.numOperador: @f.Operador.nombre @f.Operador.apellido</td>
                                <td>@f.fecha</td>
                                <td><button type="button" class="btnEye btnShowInfoFlete"><i class="fas fa-eye"></i></button><button type="button" class="btnPin btnShowEditFleteEscala"><i class="fas fa-map-marker"></i></button><button type="button" class="btnEdit btnShowEditFlete"><i class="fas fa-pencil-alt"></i></button><button type="button" class="btnDelete btnShowDeleteFlete"><i class="fas fa-trash-alt"></i></button></td>
                            </tr>
                        }
                    }

                </tbody>
            </table>
        </div>
    </div>
</div>


<div id="addSection" class="container-fluid">

    <div id="generalInfo" class="row">
        <div class="col-xs-12">
            <div class="col-xs-12 fleteTitle">
                <h4>Información general</h4>
            </div>
        </div>
        <div class="col-xs-12">
            <form action="#" method="post">
                <div class="col-xs-12" id="selectTrailer">
                    <div class="form-group">
                        <label for="fleteTrailer">Selecciona un trailer:</label>
                        <select name="fleteTrailer" id="fleteTrailer" class="noSelected">
                            <option value="-1" disabled selected>Trailer</option>
                            <option value="0">trailer1</option>
                            <option value="1">trailer2</option>
                            <option value="2">trailer3</option>
                            <option value="3">trailer4</option>
                        </select>
                    </div>
                </div>

                <div class="col-xs-12" id="selectOperador">
                    <div class="form-group">
                        <label for="fleteOperador">Selecciona un operador:</label>
                        <select name="fleteOperador" id="fleteOperador" class="noSelected">
                            <option value="-1" disabled selected>Operador</option>
                            <option value="0">ope1</option>
                            <option value="1">ope2</option>
                            <option value="2">ope3</option>
                            <option value="3">ope4</option>
                        </select>
                    </div>
                </div>

                <div class="col-xs-12" id="selectTipoRemolque">
                    <div class="form-group">
                        <label for="fleteTipoRemolque">Selecciona un tipo de remolque:</label>
                        <select name="fleteTipoRemolque" id="fleteTipoRemolque" class="noSelected">
                            <option value="-1" disabled selected>Tipo Remolque</option>
                            <option value="1">Tipo 1</option>
                            <option value="2">Tipo 2</option>
                        </select>
                    </div>
                </div>

                <!-- Remolque 1 -->
                <div class="col-xs-12" id="remolque1">
                    <div class="form-group selectRemolque">

                        <div class="col-xs-12">
                            <label for="fleteRemolque1">Selecciona Remolque 1:</label>
                            <select name="fleteRemolque1" id="fleteRemolque1" class="noSelected">
                                <option value="-1" disabled selected>Remolque 1</option>
                                <option value="1">Remol 1</option>
                                <option value="2">Remol 2</option>
                                <option value="3">Remol 3</option>
                            </select>
                        </div>

                        <div class="col-xs-6 left">
                            <label>Lista de cargas:</label>
                        </div>
                        <div class="col-xs-6 right">
                            <button type="button" class="btnAccept btnShowAddCargaTemp"><span><i class="fas fa-plus"></i></span><span>Agregar carga</span></button>
                        </div>

                        <div class="col-xs-12">
                            <div class="table-responsive">
                                <table class="table table-hover" id="tableCargas1">
                                    <thead>
                                        <tr>
                                            <th>Descripción</th>
                                            <th>Peso</th>
                                            <th>Opciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>xd</td>
                                            <td>xd</td>
                                            <td class="optionsTable"><button type="button" class="btnEdit"><i class="fas fa-pencil-alt"></i></button><button type="button" class="btnDelete"><i class="fas fa-trash-alt"></i></button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Remolque 2 -->
                <div class="col-xs-12" id="remolque2">
                    <div class="form-group selectRemolque">

                        <div class="col-xs-12">
                            <label for="fleteRemolque2">Selecciona Remolque 2:</label>
                            <select name="fleteRemolque2" id="fleteRemolque2" class="noSelected">
                                <option value="-1" disabled selected>Remolque 2</option>
                                <option value="1">Remol 1</option>
                                <option value="2">Remol 2</option>
                                <option value="3">Remol 3</option>
                            </select>
                        </div>

                        <div class="col-xs-6 left">
                            <label>Lista de cargas:</label>
                        </div>
                        <div class="col-xs-6 right">
                            <button type="button" class="btnAccept btnShowAddCargaTemp"><span><i class="fas fa-plus"></i></span><span>Agregar carga</span></button>
                        </div>

                        <div class="col-xs-12">
                            <div class="table-responsive">
                                <table class="table table-hover" id="tableCargas2">
                                    <thead>
                                        <tr>
                                            <th>Descripción</th>
                                            <th>Peso</th>
                                            <th>Opciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Descripción</td>
                                            <td>Peso</td>
                                            <td class="optionsTable"><button type="button" class="btnEdit"><i class="fas fa-pencil-alt"></i></button><button type="button" class="btnDelete"><i class="fas fa-trash-alt"></i></button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-xs-12 center" id="optionsFlete">
                    <button type="button" class="btnAccept" id="btnAddFlete"><span><i class="fas fa-plus-circle"></i></span><span>Agregar flete</span></button>
                </div>

            </form>
        </div>


    </div>

    <div id="scales" class="row">
        <div class="col-xs-12">
            <div class="col-xs-12 fleteTitle">
                <h4>Escalas</h4>
            </div>
        </div>

        <div class="col-xs-12 selectEscalas">
            <div class="col-xs-12 col-sm-6">
                <p class="bold">Ruta:</p>
                <div id="mapRutas"></div>

            </div>
            <div class="col-xs-12 col-sm-6" id="sectionEscalas">
                <div class="col-xs-6 left">
                    <p class="bold">Lista de escalas:</p>
                </div>

                <div class="col-xs-6 right">
                    <button type="button" class="btnAccept" id="btnShowAddEscala"><span><i class="fas fa-plus"></i></span><span>Agregar escala</span></button>
                </div>

                <div class="col-xs-12">
                    <div class="table-responsive">
                        <table class="table table-hover" id="tableEscalas" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>+</th>
                                    <th class="none">ID</th>
                                    <th class="none">Latitud</th>
                                    <th class="none">Longitud</th>
                                    <th>Nombre</th>
                                    <th class="none">Descripción</th>
                                    <th>Fecha y Hora</th>
                                    <th>Opciones</th>
                                </tr>
                            </thead>
                            <tbody id="escalaList">
                                <tr>
                                    <td class="details-control"><i class="fas fa-plus-square"></i></td>
                                    <td class="none">EscalaID1</td>
                                    <td class="none">27.925165867041457</td>
                                    <td class="none">-110.9083503484726</td>
                                    <td>nombre</td>
                                    <td class="none">desripcion</td>
                                    <td>26/07/2020</td>
                                    <td class="optionsTable"><button type="button" class="btnEdit btnShowEditEscala"><i class="fas fa-pencil-alt"></i></button><button type="button" class="btnDelete btnShowDeleteEscala"><i class="fas fa-trash-alt"></i></button></td>
                                </tr>

                                <tr>
                                    <td class="details-control"><i class="fas fa-plus-square"></i></td>
                                    <td class="none">EscalaID2</td>
                                    <td class="none">29.0974438</td>
                                    <td class="none">-111.0219734</td>
                                    <td>nombre</td>
                                    <td class="none">desripcion</td>
                                    <td>2015-25-03 14:00</td>
                                    <td class="optionsTable"><button type="button" class="btnEdit btnShowEditEscala"><i class="fas fa-pencil-alt"></i></button><button type="button" class="btnDelete btnShowDeleteEscala"><i class="fas fa-trash-alt"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>


            </div>
        </div>



    </div>
</div>


<div id="modals">

    <!-- Modal form carga -->
    <div class="modal fade" id="modalFormCarga" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form action="#" method="post" class="formCarga">
                            <div class="col-xs-12">

                                <div class="form-group">
                                    <label for="cargaDescripcion">Descripción:</label>
                                    <textarea rows="3" name="cargaDescripcion" id="cargaDescripcion"></textarea>
                                </div>

                                <div class="form-group">
                                    <label for="cargaPeso">Peso:</label>
                                    <input type="number" name="cargaPeso" id="cargaPeso">
                                </div>

                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnAccept"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                    <button type="button" class="btnCancel" data-dismiss="modal"><span><i class="fas fa-times"></i></span><span>Cancelar</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal delete carga -->
    <div class="modal fade" id="modalDeleteCarga" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form action="#" method="post" class="formCarga">
                            <div class="col-xs-12">
                                <p>Esta seguro de eliminar carga</p>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnAccept"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal form escala -->
    <div class="modal fade" id="modalFormEscala" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form action="#" method="post" class="formEscala">

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label for="searchAddress">Buscar:</label>
                                    <input type="text" id="searchAddress" name="searchAddress" placeholder="Introduce una dirección o lugar">
                                    <div id="mapAdd"></div>
                                </div>

                            </div>

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group none">
                                    <label for="escalaLat">Latitud:</label>
                                    <input type="text" name="escalaLat" id="escalaLat">
                                </div>

                                <div class="form-group none">
                                    <label for="escalaLng">Longitud:</label>
                                    <input type="text" name="escalaLng" id="escalaLng">
                                </div>

                                <div class="form-group">
                                    <label for="escalaNombre">Nombre:</label>
                                    <input type="text" name="escalaNombre" id="escalaNombre">
                                </div>

                                <div class="form-group">
                                    <label for="escalaLng">Descripción:</label>
                                    <textarea name="escalaDescripcion" id="escalaDescripcion" rows="3"></textarea>
                                </div>

                                <div class="form-group">
                                    <label for="escalaFecha">Fecha y Hora:</label>
                                    <input type="datetime" name="escalaFecha" id="escalaFecha">
                                </div>

                            </div>

                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnAccept"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                    <button type="button" class="btnCancel" data-dismiss="modal"><span><i class="fas fa-times"></i></span><span>Cancelar</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal delete escala -->
    <div class="modal fade" id="modalDeleteEscala" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form action="#" method="post" class="formEscala">
                            <div class="col-xs-12">
                                <p>Esta seguro de eliminar escala</p>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnCancel"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal form flete generalInfo -->
    <div class="modal fade" id="modalFormFlete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xs-12" id="modalContent">

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnAccept"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                    <button type="button" class="btnCancel" data-dismiss="modal"><span><i class="fas fa-times"></i></span><span>Cancelar</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal form flete scales -->
    <div class="modal fade" id="modalFormFlete2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xs-12" id="modalContent2">

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnAccept"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                    <button type="button" class="btnCancel" data-dismiss="modal"><span><i class="fas fa-times"></i></span><span>Cancelar</span></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal delete flete -->
    <div class="modal fade" id="modalDeleteFlete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    <button type="button" class="close right" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form action="#" method="post" class="formFlete">
                            <div class="col-xs-12">
                                <p>Esta seguro de eliminar flete</p>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btnAccept"><span><i class="fas fa-check"></i></span><span>Aceptar</span></button>
                </div>
            </div>
        </div>
    </div>


</div>



@section JavaScript {
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.js"></script>
    <script src="~/scripts/fletessScript.js"></script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-EDS7zQdpHo6_AHGek-JCJcxj_t3o3tw" type="text/javascript"></script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script src="~/scripts/mapScript.js"></script>
}